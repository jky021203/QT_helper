🌿 Lumi (루미) – 말씀 묵상 챗봇

“말씀을 이해하는 첫 걸음, 루미가 함께합니다.”

---

1. 프로젝트 개요

🎯 목적

초신자도 쉽게 묵상을 시작할 수 있도록,
성경 구절을 입력하면 배경 설명 → 핵심 키워드 → 관련 구절 → 묵상 포인트 → 기도문을
자동으로 생성해주는 GPT 기반 대화형 묵상 웹앱을 개발한다.

🪄 핵심 가치
- 접근성: 신앙 초입자도 부담 없이 묵상 시작
- 이해도 향상: 배경, 문화, 맥락까지 쉽게 풀이
- 개인화: 나의 묵상 히스토리를 저장하고 회고
- 확장성: 신앙 공동체에서도 활용 가능한 구조

---

2. 주요 타깃

| 구분 | 설명 |
| --- | --- |
| 1차 타깃 | 초신자, 말씀 묵상을 처음 시작하는 청년 |
| 2차 타깃 | 개인 큐티를 꾸준히 하는 성도 |
| 3차 타깃 | 말씀 콘텐츠를 나누는 공동체 리더/교사 |

---

3. 기능 요구사항

🧩 기본 기능

| 기능 | 설명 | 기술요소 |
| --- | --- | --- |
| ① 구절 입력 | “요한복음 3:16” 형식의 구절 입력 | Input Form |
| ② 성경 본문 표시 | API로 구절 본문 불러오기 | Bible API or Static JSON |
| ③ 배경 설명 | 역사·문화·맥락 중심의 해설 제공 | GPT 1차 Chain |
| ④ 핵심 키워드 | 주요 단어 3개 + 쉬운 정의 | GPT 2차 Chain |
| ⑤ 관련 구절 | 주제 연관 구절 2~3개 추천 | GPT 3차 Chain |
| ⑥ 묵상 포인트 | ‘삶 적용형’ 질문 3개 | GPT 4차 Chain |
| ⑦ 한 줄 기도문 | 개인화된 기도문 자동 생성 | GPT 5차 Chain |
| ⑧ 히스토리 저장 | 최근 3건 LocalStorage 저장/불러오기 | LocalStorage API |

---

4. 사용자 시나리오

예시 시나리오

입력: “마가복음 10:27”
출력:
- 배경 설명
- 키워드 3개
- 관련 구절 2–3개
- 묵상 포인트 3개
- 한 줄 기도문

보조 기능:
- 히스토리 칩 클릭 시 과거 묵상 불러오기
- 로딩 애니메이션 및 에러 토스트 제공

---

5. 기술 스택

| 구분 | 사용 기술 | 비고 |
| --- | --- | --- |
| Frontend | Next.js (App Router), TypeScript, TailwindCSS, Framer Motion | 반응형·애니메이션 구현 |
| Backend | Next API Routes | GPT API 호출, 스키마 검증 |
| AI Engine | OpenAI GPT-4o-mini | 프롬프트 체인 및 JSON 출력 |
| Validation | Zod | GPT 응답 스키마 강제 |
| Storage | LocalStorage | 최근 묵상 3건 저장 |
| Deployment | Vercel | 배포 및 환경변수 관리 |

---

6. 데이터 구조

Lumi Schema (Zod)

```ts
export const LumiSchema = z.object({
  verseInput: z.string(),
  background: z.string(),
  keywords: z.array(z.object({
    term: z.string(),
    meaning: z.string(),
  })).length(3),
  relatedVerses: z.array(z.object({
    reference: z.string(),
    reason: z.string(),
  })).min(2).max(3),
  reflections: z.array(z.string()).length(3),
  prayer: z.string(),
});
```

---

7. UX/UI 요구사항

| 항목 | 설명 |
| --- | --- |
| 전체 톤앤매너 | 부드럽고 명상적인 감성 (크림톤+세이지그린) |
| 폰트 | Playfair Display (헤더), Pretendard (본문) |
| 색상 팔레트 | 배경: #FDFCF8 / 포인트: #A3B18A / 액센트: #D4A373 |
| 레이아웃 | 중앙정렬, 카드 단위 페이드업 모션 |
| 애니메이션 | Framer Motion으로 순차 등장 |
| 접근성 | 명도 대비 준수, 폰트 크기 ≥ 16px, 키보드 네비게이션 가능 |

---

8. 프롬프트 설계

시스템 프롬프트

“너는 기독교 말씀 묵상 도우미다. 초신자도 이해할 수 있게 간결하고 친절하게 설명한다.
신학 논쟁을 피하고, 본문 맥락과 전통적 해석에 기반한 배경 설명을 제공한다.
역사/문화 배경은 ‘가능성이 높은 배경’으로 표현하고 단정하지 않는다.
각 섹션은 간결한 한국어로 작성하며 JSON만 반환한다.”

체인 구조

1️⃣ 구절 입력 →
2️⃣ 배경 설명 →
3️⃣ 핵심 키워드 →
4️⃣ 관련 구절 →
5️⃣ 묵상 포인트 →
6️⃣ 한 줄 기도문

---

9. 개발 단계별 계획

| 단계 | 내용 | 예상시간 |
| --- | --- | --- |
| 1 | 환경 세팅 (Next.js + Tailwind) | 30m |
| 2 | GPT API 연결 및 스키마 검증 | 1h |
| 3 | UI 구성 (입력폼 + 결과 카드) | 2h |
| 4 | 프롬프트 체인 설계 및 튜닝 | 2h |
| 5 | LocalStorage 및 예외처리 | 1h |
| 6 | 배포 및 README 정리 | 1h |

총 약 8시간 내 1일 완성 목표.

---

10. 품질 기준

| 영역 | 체크포인트 |
| --- | --- |
| 출력 형식 | 항상 스키마 일치(JSON Only) |
| 문체 | 쉬운 한국어, 초신자 난이도 |
| UX 흐름 | 입력 → 로딩 → 결과 순차 표시 |
| 에러 처리 | 네트워크·입력 오류 안내 메시지 |
| 히스토리 | 최대 3건 저장 및 클릭 복원 |
| 배포 상태 | Lighthouse 90점 이상 / 접근성 준수 |

---

11. 향후 확장 기능
- 🔹 “오늘의 말씀” 랜덤 추천
- 🔹 주제별 묵상 (사랑, 용서, 두려움 등)
- 🔹 개인 묵상 노트 PDF 저장
- 🔹 Firestore 연동으로 클라우드 저장
- 🔹 공동체 공유 링크 생성 (“함께 묵상하기”)

---

12. 바이브 코딩 플로우 요약

1️⃣ 자연어로 기능 정의 (프롬프트 A–I 순차 실행)
2️⃣ 에이전트 코드 생성
3️⃣ 실행 및 수정 루프 반복
4️⃣ 완성 후 README에 개선 로그 기록

---

13. 성공 지표 (Success Metrics)

| 구분 | 지표 | 목표 |
| --- | --- | --- |
| 기능 완성도 | 5개 섹션 정확 출력률 | 95%+ |
| UX 품질 | 사용자 이탈률 | < 10% |
| AI 응답 품질 | 신학적으로 안전한 응답률 | 100% |
| 포트폴리오 가치 | “바이브 코딩 과정” 평가 가점 | 상위 10% 수준 |

---

14. 위험 요소 및 대응

| 리스크 | 대응 방안 |
| --- | --- |
| GPT 출력 불안정 | JSON 스키마 강제 + fallback 메시지 |
| 신학적 편향/오류 | 검증된 주석서 기반 문체 가이드 |
| API 키 유출 | 서버 전용 환경변수 처리 |
| 일정 지연 | MVP 범위 고정(기능 5개 내) |

---

15. 배포 및 운영
- 배포 플랫폼: Vercel
- 도메인 예시: https://lumi.dev
- 환경변수: .env.local → OPENAI_API_KEY
- 로그 정책: 사용자 입력은 로컬에만 저장 (개인정보 없음)

---

16. 프로젝트 상태 로그

| 일자 | 내용 |
| --- | --- |
| Day 1 | PRD 확정 및 바이브 코딩 준비 완료 |
| Day 1 (오후) | GPT API 연결 및 프롬프트 체인 구현 |
| Day 1 (밤) | Lumi MVP 배포 / README 기록 완료 |

---
